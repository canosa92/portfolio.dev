---
import GitHub from "@/components/icons/GitHub.astro"
import Tailwind from "@/components/icons/Tailwind.astro"
import Link from "@/components/icons/Link.astro"
import LinkButton from "@/components/LinkButton.astro"
import ReactIcon from "@/components/icons/React.astro"
import NodeIcon from "@/components/icons/Node.astro"
//import MongoIcon from "@/components/icons/Mongo.astro"
//import JavaScriptIcon from "@/components/icons/JavaScript.astro"
//import TypeScriptIcon from "@/components/icons/TypeScript.astro"

const TAGS = {
  REACT: {
    name: "React.js",
    class: "bg-gradient-to-r from-[#61DAFB]/80 to-[#61DAFB] text-gray-900 ring-1 ring-[#61DAFB]/30",
    icon: ReactIcon,
  },
  TAILWIND: {
    name: "Tailwind CSS",
    class: "bg-gradient-to-r from-[#0ea5e9]/80 to-[#0ea5e9] text-white ring-1 ring-[#0ea5e9]/30",
    icon: Tailwind,
  },
  NODE: {
    name: "Node.js",
    class: "bg-gradient-to-r from-[#026e00]/80 to-[#026e00] text-white ring-1 ring-[#026e00]/30",
    icon: NodeIcon,
  },
  MONGODB: {
    name: "MongoDB",
    class: "bg-gradient-to-r from-[#13aa52]/80 to-[#13aa52] text-white ring-1 ring-[#13aa52]/30",
    //icon: MongoIcon,
  },
  JAVASCRIPT: {
    name: "JavaScript",
    class: "bg-gradient-to-r from-[#f7df1e]/90 to-[#f7df1e] text-black ring-1 ring-[#f7df1e]/30",
    //icon: JavaScriptIcon,
  },
  TYPESCRIPT: {
    name: "TypeScript",
    class: "bg-gradient-to-r from-[#3178c6]/80 to-[#3178c6] text-white ring-1 ring-[#3178c6]/30",
    //icon: TypeScriptIcon,
  },
}

const PROJECTS = [
  {
    title: "SVGL - A beautiful library with SVG logos",
    description:
      "Biblioteca de logos SVG de las marcas más populares. +10k visitas al mes. +2K svgs descargados. Creado desde cero con Next.js, React y Tailwind CSS.",
    link: "https://svgl.vercel.app/",
    github: "https://github.com/pheralb/svgl",
    image: "/projects/svgl.webp",
    tags: [TAGS.REACT, TAGS.TYPESCRIPT, TAGS.NODE, TAGS.MONGODB],
    readme: `# SVGL
Una biblioteca moderna de logos SVG optimizados y accesibles.

## Características principales:
- +2000 logos SVG optimizados
- Búsqueda instantánea
- Descarga en un clic
- Soporte para modo oscuro`,
    codeSnippet: `import { SVGLogo } from 'svgl'

export default function Brand() {
  return <SVGLogo 
    name="react" 
    width={40} 
    height={40} 
  />
}`
  },
  {
    title: "AdventJS - Retos de programación con JavaScript y TypeScript",
    description:
      "Plataforma gratuita con retos de programación. Más de 1 millón de visitas en un mes. +50K retos completados. Creada desde cero con Next.js, React y Tailwind CSS.",
    link: "https://adventjs.dev",
    image: "/projects/adventjs.webp",
    tags: [TAGS.REACT, TAGS.JAVASCRIPT, TAGS.TAILWIND],
    readme: `# AdventJS
Mejora tus habilidades de programación con retos diarios.

## Características:
- 24 retos de programación
- Soporte para JavaScript y TypeScript
- Tests automatizados
- Ranking global`,
    codeSnippet: `function wrapGifts(gifts) {
  if (gifts.length === 0) return []
  const width = gifts[0].length + 2
  return [
    '*'.repeat(width),
    ...gifts.map(gift => '*' + gift + '*'),
    '*'.repeat(width)
  ]
}`
  },
]
---

<div class="flex flex-col gap-y-32">
  {PROJECTS.map(({ image, title, description, tags, link, github, readme, codeSnippet }) => (
    <article class="group relative flex flex-col space-y-8 md:flex-row md:space-x-16 md:space-y-0">
      <div class="w-full md:w-1/2">
        <div class="relative overflow-hidden rounded-2xl bg-gradient-to-br from-gray-100 to-gray-50 p-2 dark:from-gray-800 dark:to-gray-900">
          {/* Contenedor principal con hover */}
          <div class="relative aspect-video rounded-xl overflow-hidden">
            {/* Imagen del proyecto */}
            <img
              alt={title}
              class="h-full w-full object-cover object-top transition duration-700"
              loading="lazy"
              src={image}
            />
            
            {/* Panel de información en hover */}
            <div class="absolute inset-0 bg-gray-900/95 translate-y-full transition-transform duration-300 group-hover:translate-y-0 p-6 overflow-y-auto">
              {/* Contenido del README */}
              <div class="prose prose-invert prose-sm max-w-none mb-6">
                <div class="font-mono text-gray-400 whitespace-pre-wrap">{readme}</div>
              </div>
              
              {/* Fragmento de código */}
              <div class="bg-gray-800 rounded-lg p-4 mb-6">
                <pre class="text-sm text-gray-300 font-mono overflow-x-auto">
                  <code>{codeSnippet}</code>
                </pre>
              </div>
              
              {/* Botones de acción */}
              <div class="flex gap-4 absolute bottom-6 left-6 right-6">
                {github && (
                  <a 
                    href={github}
                    class="flex-1 flex items-center justify-center gap-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg px-4 py-2 transition-colors"
                  >
                    <GitHub class="size-5" />
                    <span>Ver Código</span>
                  </a>
                )}
                {link && (
                  <a 
                    href={link}
                    class="flex-1 flex items-center justify-center gap-2 bg-yellow-500 hover:bg-yellow-400 text-white rounded-lg px-4 py-2 transition-colors"
                  >
                    <Link class="size-5" />
                    <span>Ver Demo</span>
                  </a>
                )}
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="w-full md:w-1/2 md:max-w-lg">
        <h3 class="relative mb-4 text-2xl font-bold text-gray-800 dark:text-gray-100">
          <span class="relative">
            {title}
            <span class="absolute -bottom-2 left-0 h-0.5 w-0 bg-gradient-to-r from-yellow-500 to-yellow-300 transition-all duration-300 group-hover:w-full"></span>
          </span>
        </h3>

        <div class="mb-6 flex flex-wrap gap-2">
          {tags.map((tag) => (
            <span 
              class={`inline-flex items-center gap-x-2 rounded-full px-4 py-1.5 text-xs font-semibold shadow-lg transition-all duration-300 ${tag.class} hover:scale-105 hover:-translate-y-0.5`}
            >
              {tag.icon && <tag.icon class="size-4" />}
              {tag.name}
            </span>
          ))}
        </div>

        <p class="mb-8 text-gray-700 dark:text-gray-400 leading-relaxed [text-wrap:balance]">
          {description}
        </p>
      </div>
    </article>
  ))}
</div>